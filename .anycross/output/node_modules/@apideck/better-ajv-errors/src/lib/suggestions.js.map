{"version":3,"file":"suggestions.js","names":["getSuggestion","value","suggestions","format","suggestion","bestSuggestion","reduce","best","current","distance","leven","Infinity","length"],"sources":["../../../../../../../node_modules/@apideck/better-ajv-errors/src/lib/suggestions.ts"],"sourcesContent":["import leven from 'leven';\n\nexport const getSuggestion = ({\n  value,\n  suggestions,\n  format = (suggestion) => `Did you mean '${suggestion}'?`,\n}: {\n  value: string | null;\n  suggestions: string[];\n  format?: (suggestion: string) => string;\n}): string => {\n  if (!value) return '';\n  const bestSuggestion = suggestions.reduce(\n    (best, current) => {\n      const distance = leven(value, current);\n      if (best.distance > distance) {\n        return { value: current, distance };\n      }\n\n      return best;\n    },\n    {\n      distance: Infinity,\n      value: '',\n    }\n  );\n\n  return bestSuggestion.distance < value.length ? format(bestSuggestion.value) : '';\n};\n"],"mappings":";;;;;;AAAA;AAA0B;AAEnB,MAAMA,aAAa,GAAG,CAAC;EAC5BC,KAAK;EACLC,WAAW;EACXC,MAAM,GAAIC,UAAU,IAAM,iBAAgBA,UAAW;AAKvD,CAAC,KAAa;EACZ,IAAI,CAACH,KAAK,EAAE,OAAO,EAAE;EACrB,MAAMI,cAAc,GAAGH,WAAW,CAACI,MAAM,CACvC,CAACC,IAAI,EAAEC,OAAO,KAAK;IACjB,MAAMC,QAAQ,GAAG,IAAAC,cAAK,EAACT,KAAK,EAAEO,OAAO,CAAC;IACtC,IAAID,IAAI,CAACE,QAAQ,GAAGA,QAAQ,EAAE;MAC5B,OAAO;QAAER,KAAK,EAAEO,OAAO;QAAEC;MAAS,CAAC;IACrC;IAEA,OAAOF,IAAI;EACb,CAAC,EACD;IACEE,QAAQ,EAAEE,QAAQ;IAClBV,KAAK,EAAE;EACT,CAAC,CACF;EAED,OAAOI,cAAc,CAACI,QAAQ,GAAGR,KAAK,CAACW,MAAM,GAAGT,MAAM,CAACE,cAAc,CAACJ,KAAK,CAAC,GAAG,EAAE;AACnF,CAAC;AAAC"}